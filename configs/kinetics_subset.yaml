# Config cho Kinetics Subset Training
# Sử dụng trên Kaggle Notebook

# Dataset settings
# Path structure: /kaggle/input/kinetics-train-5per/kinetics400_5per/kinetics400_5per/train/<class>/<video>.mp4
dataset_root: "/kaggle/input/kinetics-train-5per/kinetics400_5per/kinetics400_5per"
data_root: "/kaggle/input/kinetics-train-5per/kinetics400_5per/kinetics400_5per"

selected_classes:
  - "playing guitar"
  - "playing violin"
  - "cooking on campfire"
  - "playing basketball"
  - "bench pressing"
  - "doing aerobics"
  - "playing piano"
  - "skipping rope"
  - "dribbling basketball"
  - "washing dishes"

# Video settings
num_frames: 16        # Số frame per clip
frame_rate: 5         # Frame sampling rate
clip_duration: 2.0    # Giây (tính từ num_frames/frame_rate)
crop_size: 224        # Spatial crop size (224 cho X3D)

# Model settings
model_name: "x3d_xs"     # x3d_xs (nhẹ nhất), x3d_s, x3d_m
pretrained: true         # Load pretrained từ Kinetics-400
freeze_backbone: false   # false = fine-tune toàn bộ model

# Training settings
batch_size: 8
learning_rate: 0.0001    # 1e-4 cho fine-tuning
weight_decay: 0.0001     # 1e-4 regularization
max_epochs: 10           # Số epochs (Kaggle có thời gian giới hạn)

# Train/Val Split
train_val_split: 0.8     # 80% train, 20% val (nếu không có val/ folder)
random_seed: 42          # Seed cho reproducibility

# Debug mode
debug_mode: false        # true = chỉ train với ít samples để test
max_debug_samples: 50    # Số samples khi debug_mode=true

# Mixed Precision Training
use_amp: true           # Automatic Mixed Precision - nhanh hơn, ít RAM hơn
gradient_clip: 1.0      # Clip gradients để tránh exploding

# Scheduler
scheduler_step: 5        # Giảm LR sau mỗi 5 epochs
scheduler_gamma: 0.1     # Giảm LR xuống 0.1x

# DataLoader
num_workers: 4           # Kaggle có multi-core

# Output
output_dir: "/kaggle/working/kinetics_subset"
save_dir: "/kaggle/working/kinetics_subset"
checkpoint_freq: 1       # Lưu checkpoint mỗi N epochs
log_freq: 10            # Print log mỗi N batches
